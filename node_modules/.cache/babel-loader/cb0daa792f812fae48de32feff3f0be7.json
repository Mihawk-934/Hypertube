{"ast":null,"code":"var _jsxFileName = \"/Users/miclaude/Desktop/Netflix/src/containers/Profil/MyInfo/PhotoUser/PhotoUser.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport Img from '../../../../assets/miclaude.png';\nimport { MdAddAPhoto } from 'react-icons/md';\nimport '../MyInfo.css';\nimport './PhotoUser.css';\nimport { useDispatch } from 'react-redux';\nimport * as actions from '../../../../store/actions/index';\nimport firebase from '../../../../fire';\n\nconst PhotoUser = () => {\n  // let id = localStorage.getItem('id');\n  // let fileName = 'image';\n  // let newDirectory = id;\n  // let storage = firebase.storage().ref(`images/${newDirectory}/${fileName}`);\n  // const [ image, setImage ] = useState(null);\n  // const [ imageTmp, setImageTmp ] = useState(null);\n  // const [ good, setGood ] = useState(false);\n  // const dispatch = useDispatch();\n  // const photoProfil = (image) => dispatch(actions.photoProfil(image))\n  // let imageProfil = localStorage.getItem('photo');\n  // useEffect (() => {\n  //     if (localStorage.getItem('photo')) {\n  //         setImage(localStorage.getItem('photo')) \n  //         photoProfil(localStorage.getItem('photo'));\n  //     }\n  //     else {\n  //         storage.getDownloadURL()\n  //             .then(function(url) {\n  //                 if (url) {\n  //                     photoProfil(url);\n  //                     setImage(url);\n  //                 }\n  //             })\n  //             .catch(err => {\n  //                 console.log(err)\n  //             })\n  //     }\n  // }, [])\n  // const handleChange = (e) => {\n  //     if (e.target.files[0]) {\n  //         if (e.target.files[0] !== image ) {\n  //             setImageTmp(e.target.files[0]);\n  //             setGood(true);\n  //         }            \n  //     }         \n  // };\n  // const handleUpload = async () => {\n  //     if(good) {\n  //         if (image !== undefined) {\n  //             await storage.put(imageTmp)\n  //                 .then(res => console.log(res))\n  //                 .catch(err => console.log(err))\n  //         }\n  //         await storage.getDownloadURL()\n  //             .then(function(url) {\n  //                 photoProfil(url);\n  //                 setImage(url);\n  //                 setGood(false);                \n  //             })\n  //             .catch(err => {\n  //                 console.log(err)\n  //             })\n  //     }        \n  // }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"BlockContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"TitleBackground\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, \"Photo de Profil\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"BlockImageProfil\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, image !== null ? /*#__PURE__*/React.createElement(\"img\", {\n    src: image,\n    alt: \"\",\n    style: {\n      height: '140px',\n      width: '140px',\n      borderRadius: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '140px',\n      width: '140px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 27\n    }\n  }), !imageProfil && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 43\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    accept: \"image/*\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 29\n    }\n  }, \"Upload\"))));\n};\n\nexport default PhotoUser;","map":{"version":3,"sources":["/Users/miclaude/Desktop/Netflix/src/containers/Profil/MyInfo/PhotoUser/PhotoUser.jsx"],"names":["React","useState","useEffect","Img","MdAddAPhoto","useDispatch","actions","firebase","PhotoUser","image","height","width","borderRadius","imageProfil","handleChange","handleUpload"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,GAAP,MAAgB,iCAAhB;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,OAAO,eAAP;AACA,OAAO,iBAAP;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,OAAO,KAAKC,OAAZ,MAAyB,iCAAzB;AACA,OAAOC,QAAP,MAAqB,kBAArB;;AAEA,MAAMC,SAAS,GAAG,MAAM;AACpB;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,sBACI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,CADJ,eAII;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKOC,KAAK,KAAK,IAAV,gBACK;AAAK,IAAA,GAAG,EAAEA,KAAV;AAAiB,IAAA,GAAG,EAAC,EAArB;AAAwB,IAAA,KAAK,EAAE;AAACC,MAAAA,MAAM,EAAC,OAAR;AAAiBC,MAAAA,KAAK,EAAC,OAAvB;AAA+BC,MAAAA,YAAY,EAAC;AAA5C,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADL,gBAEO;AAAK,IAAA,KAAK,EAAE;AAACF,MAAAA,MAAM,EAAC,OAAR;AAAiBC,MAAAA,KAAK,EAAC;AAAvB,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPd,EAQc,CAACE,WAAD,iBAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACd;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,MAAM,EAAC,SAA1B;AAAoC,IAAA,QAAQ,EAAEC,YAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADc,eAGd;AAAQ,IAAA,OAAO,EAAEC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHc,CAR9B,CAJJ,CADJ;AAqBH,CAnFD;;AAqFA,eAAeP,SAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Img from '../../../../assets/miclaude.png';\nimport { MdAddAPhoto } from 'react-icons/md';\nimport '../MyInfo.css';\nimport './PhotoUser.css';\nimport {useDispatch} from 'react-redux';\nimport * as actions from '../../../../store/actions/index';\nimport firebase from '../../../../fire';\n\nconst PhotoUser = () => {\n    // let id = localStorage.getItem('id');\n    // let fileName = 'image';\n    // let newDirectory = id;\n    // let storage = firebase.storage().ref(`images/${newDirectory}/${fileName}`);\n    \n    // const [ image, setImage ] = useState(null);\n    // const [ imageTmp, setImageTmp ] = useState(null);\n    // const [ good, setGood ] = useState(false);\n\n    // const dispatch = useDispatch();\n    // const photoProfil = (image) => dispatch(actions.photoProfil(image))\n\n    // let imageProfil = localStorage.getItem('photo');\n\n    // useEffect (() => {\n    //     if (localStorage.getItem('photo')) {\n    //         setImage(localStorage.getItem('photo')) \n    //         photoProfil(localStorage.getItem('photo'));\n    //     }\n    //     else {\n    //         storage.getDownloadURL()\n    //             .then(function(url) {\n    //                 if (url) {\n    //                     photoProfil(url);\n    //                     setImage(url);\n    //                 }\n    //             })\n    //             .catch(err => {\n    //                 console.log(err)\n    //             })\n    //     }\n    // }, [])\n\n    // const handleChange = (e) => {\n    //     if (e.target.files[0]) {\n    //         if (e.target.files[0] !== image ) {\n    //             setImageTmp(e.target.files[0]);\n    //             setGood(true);\n    //         }            \n    //     }         \n    // };\n    \n    // const handleUpload = async () => {\n    //     if(good) {\n    //         if (image !== undefined) {\n    //             await storage.put(imageTmp)\n    //                 .then(res => console.log(res))\n    //                 .catch(err => console.log(err))\n    //         }\n    //         await storage.getDownloadURL()\n    //             .then(function(url) {\n    //                 photoProfil(url);\n    //                 setImage(url);\n    //                 setGood(false);                \n    //             })\n    //             .catch(err => {\n    //                 console.log(err)\n    //             })\n    //     }        \n    // }\n\n    return (\n        <div className=\"BlockContainer\">\n            <div className=\"TitleBackground\">\n                <h4 className='h4'>Photo de Profil</h4>\n            </div>\n            <div className=\"BlockImageProfil\">\n                {/* <img src={Img} className='ImgProfil'alt=''/>\n                <div className='BlockLogo'>\n                    <MdAddAPhoto className='LogoAdd'/>\n                </div> */}\n                 { image !== null ? \n                        <img src={image} alt='' style={{height:'140px', width:'140px',borderRadius:'10px'}}/>\n                        : <div style={{height:'140px', width:'140px'}}/>}\n                        { !imageProfil && <div>\n                            <input type='file' accept=\"image/*\" onChange={handleChange}  />\n                            {/* <FaPlusCircle className={classes.ButtonPhoto} onClick={() => fileInput.click()}/> */}\n                            <button onClick={handleUpload}>Upload</button>\n                        </div> }    \n            </div>\n        </div>\n    )\n}\n\nexport default PhotoUser;"]},"metadata":{},"sourceType":"module"}