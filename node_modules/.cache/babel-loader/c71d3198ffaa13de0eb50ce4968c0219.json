{"ast":null,"code":"var _jsxFileName = \"/Users/miclaude/Desktop/Hypertube/src/containers/Profil/Social/Social.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport MyModal from '../../../components/Modal/Modal';\nimport Switch from \"react-switch\";\nimport { useHistory } from 'react-router-dom';\nimport { ToastContainer, toast, Zoom } from 'react-toastify';\nimport axios from 'axios';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './Social.css';\n\nconst Social = () => {\n  const [btnMembre, setBtnMembre] = useState(false);\n  const [btnNewsletter, setBtnNewsletter] = useState(false);\n  const [ok, setOk] = useState(false);\n  const [ok1, setOk1] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [name, setName] = useState(null);\n  const history = useHistory();\n  useEffect(() => {\n    console.log('DIDMOUNTTTTT-->');\n    axios.get(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/social.json/`).then(res => {\n      setBtnMembre(res.data.social);\n    }).catch(err => {});\n    axios.get(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/newsletter.json/`).then(res => {\n      setBtnNewsletter(res.data.newsletter);\n    }).catch(err => {});\n    axios.get(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/user.json/`).then(res => {\n      setName(res.data.name);\n    }).catch(err => {});\n  }, []);\n  useEffect(() => {\n    if (ok) {\n      btnMembre ? axios.put(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/social.json/`, {\n        social: btnMembre\n      }).then(res => toast.success(\"Membre TRUE\", {\n        className: \"toastCss\"\n      })).catch(err => {}) : axios.put(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/social.json/`, {\n        social: btnMembre\n      }).then(res => toast.success(\"Membre F\", {\n        className: \"toastCss\"\n      })).catch(err => {});\n    }\n\n    if (ok1) {\n      btnNewsletter ? axios.put(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/newsletter.json/`, {\n        newsletter: btnNewsletter\n      }).then(res => toast.success(\"Membre TRUE\", {\n        className: \"toastCss\"\n      })).catch(err => {}) : axios.put(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/newsletter.json/`, {\n        newsletter: btnNewsletter\n      }).then(res => toast.success(\"Membre F\", {\n        className: \"toastCss\"\n      })).catch(err => {});\n    }\n  }, [btnMembre, btnNewsletter, ok, ok1]);\n\n  const handleChange = id => {\n    if (name) {\n      setOk(true);\n      setOk1(true);\n\n      if (id === 'membre') {\n        setOk1(false);\n        setBtnMembre(prev => !prev);\n      } else if (id === 'newsletter') {\n        setOk(false);\n        setBtnNewsletter(prev => !prev);\n      }\n    } else setShowModal(true);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"PageMyInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"Title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, \"Social\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"BlockContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"TitleBackground\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, \"Rejoignez-nous\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"BlockSocial1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"GaucheSocial\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"h4Social\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }, \" Avantages \\xE0 devenir membre :\"), /*#__PURE__*/React.createElement(\"ul\", {\n    style: {\n      padding: '0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"liSocial\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 29\n    }\n  }, \"Prenez part aux discussions sur les films et s\\xE9ries \"), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"liSocial\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 29\n    }\n  }, \"Contribuez \\xE0 am\\xE9liorer les informations de notre base de donn\\xE9es.\"), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"liSocial\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 29\n    }\n  }, \"Profitez des dernieres infos et exclu grace a un communaut\\xE9 reactive\"), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"liSocial\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 29\n    }\n  }, \"Profitez des dernieres infos et exclu grace a un communaut\\xE9 reactive\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Switch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    onChange: () => handleChange('membre'),\n    checked: btnMembre,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(MyModal, {\n    click: () => {\n      history.push('/profil');\n    },\n    showModal: showModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"BlockContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"TitleBackground\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, \"Newsletter\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"BlockSocial2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"GaucheSocial\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"h4Social\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 25\n    }\n  }, \"Avantages \\xE0 devenir membre :\"), /*#__PURE__*/React.createElement(\"ul\", {\n    style: {\n      padding: '0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"liSocial\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 29\n    }\n  }, \"Info en exlusivit\\xE9 \"), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"liSocial\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 29\n    }\n  }, \"Profitez en exclu des info sur tout les film tendance\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Switch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    onChange: () => handleChange('newsletter'),\n    checked: btnNewsletter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(ToastContainer, {\n    transition: Zoom,\n    position: \"top-center\",\n    pauseOnFocusLoss: true,\n    type: \"dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  })))));\n};\n\nexport default Social;","map":{"version":3,"sources":["/Users/miclaude/Desktop/Hypertube/src/containers/Profil/Social/Social.jsx"],"names":["React","useState","useEffect","MyModal","Switch","useHistory","ToastContainer","toast","Zoom","axios","Social","btnMembre","setBtnMembre","btnNewsletter","setBtnNewsletter","ok","setOk","ok1","setOk1","showModal","setShowModal","name","setName","history","console","log","get","localStorage","getItem","then","res","data","social","catch","err","newsletter","put","success","className","handleChange","id","prev","padding","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport MyModal from '../../../components/Modal/Modal';\nimport Switch from \"react-switch\";\nimport { useHistory } from 'react-router-dom';\nimport { ToastContainer, toast, Zoom } from 'react-toastify';\nimport axios from 'axios';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './Social.css';\n\nconst Social = () => {\n    const [btnMembre, setBtnMembre] = useState(false);\n    const [btnNewsletter, setBtnNewsletter] = useState(false);\n    const [ok, setOk] = useState(false);\n    const [ok1, setOk1] = useState(false)\n    const [showModal, setShowModal] = useState(false);\n    const [name,setName] = useState(null)\n    const history = useHistory();\n\n    useEffect(()=>{\n        console.log('DIDMOUNTTTTT-->')\n        axios.get(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/social.json/`)\n            .then(res => { setBtnMembre(res.data.social);})\n            .catch(err => {})\n        axios.get(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/newsletter.json/`)\n            .then(res => { setBtnNewsletter(res.data.newsletter);})\n            .catch(err => {})\n        axios.get(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/user.json/`)\n            .then(res => {setName(res.data.name) })\n            .catch(err => {})\n    },[])\n\n    useEffect(() => {\n        if (ok) {\n            btnMembre ? \n            axios.put(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/social.json/`,{ social : btnMembre })\n                .then(res => toast.success(\"Membre TRUE\", {  className: \"toastCss\" }))\n                .catch(err => {})\n            : axios.put(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/social.json/`,{ social : btnMembre })\n                .then(res => toast.success(\"Membre F\", {  className: \"toastCss\" }))\n                .catch(err => {})\n        } \n        if (ok1)\n        {\n            btnNewsletter ? \n            axios.put(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/newsletter.json/`,{ newsletter : btnNewsletter })\n                .then(res => toast.success(\"Membre TRUE\", {  className: \"toastCss\" }))\n                .catch(err => {})\n            : axios.put(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/newsletter.json/`,{ newsletter : btnNewsletter })\n                .then(res => toast.success(\"Membre F\", {  className: \"toastCss\" }))\n                .catch(err => {})\n        }\n           \n    }, [btnMembre, btnNewsletter, ok, ok1]);\n\n    const handleChange = (id) => {\n        if(name) {\n            setOk(true);\n            setOk1(true);\n            if (id === 'membre') {\n                setOk1(false)\n                setBtnMembre(prev => !prev);\n            }\n            else if (id === 'newsletter') {\n                setOk(false)\n                setBtnNewsletter(prev => !prev);\n            }\n        }\n        else \n            setShowModal(true)   \n    }\n\n    return (\n        <div className='PageMyInfo'>\n           \n            <h1 className='Title'>Social</h1>\n            <div className=\"BlockContainer\">\n                <div className=\"TitleBackground\">\n                    <h4 className='h4'>Rejoignez-nous</h4>\n                </div>\n                <div className=\"BlockSocial1\">\n                    <div className=\"GaucheSocial\">\n                        <h4 className=\"h4Social\"> Avantages à devenir membre :</h4>\n                        <ul style={{padding:'0'}}>\n                            <li className=\"liSocial\">Prenez part aux discussions sur les films et séries </li>\n                            <li className=\"liSocial\">Contribuez à améliorer les informations de notre base de données.</li>\n                            <li className=\"liSocial\">Profitez des dernieres infos et exclu grace a un communauté reactive</li>\n                            <li className=\"liSocial\">Profitez des dernieres infos et exclu grace a un communauté reactive</li>\n                        </ul>\n                    </div>\n                    <div className=\"Switch\">\n                        <Switch onChange={() => handleChange('membre')} checked={btnMembre}/>\n                    </div>\n                </div>\n            </div>\n            <MyModal click={() => { history.push('/profil')}} showModal={showModal}/>\n            <div className=\"BlockContainer\">\n                <div className=\"TitleBackground\">\n                    <h4 className='h4'>Newsletter</h4>\n                </div>\n                <div className=\"BlockSocial2\">\n                    <div className=\"GaucheSocial\">\n                        <h4 className=\"h4Social\">Avantages à devenir membre :</h4>\n                        <ul style={{padding:'0'}}>\n                            <li className=\"liSocial\">Info en exlusivité </li>\n                            <li className=\"liSocial\">Profitez en exclu des info sur tout les film tendance</li>\n                        </ul>\n                    </div>\n                    <div className=\"Switch\">\n                        <Switch onChange={() => handleChange('newsletter')} checked={btnNewsletter}/>\n                        <ToastContainer transition={Zoom} position=\"top-center\" pauseOnFocusLoss type=\"dark\"/>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Social;"]},"metadata":{},"sourceType":"module"}