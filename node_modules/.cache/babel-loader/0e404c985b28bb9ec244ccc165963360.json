{"ast":null,"code":"var _jsxFileName = \"/Users/miclaude/Desktop/Hypertube/src/containers/ConfirmOrder/ConfirmOrder.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport * as actions from '../../store/actions/index';\nimport { useSelector, useDispatch, useCallback } from 'react-redux';\nimport { Carousel } from '3d-react-carousal';\nimport { Spinner } from 'react-bootstrap';\n\nconst ConfirmOrder = () => {\n  let order = 'FUWTS' + localStorage.getItem('numOrder');\n  const [adresse, setAdresse] = useState('');\n  const dispatch = useDispatch(); // const resetCart = () => { dispatch(actions.resetCart()) };\n\n  const resetCart = useCallback(() => {\n    dispatch(actions.resetCart());\n  }, [dispatch]);\n  const movies = useSelector(state => state.cart.cart);\n  const [load, setLoad] = useState(true);\n  useEffect(() => {\n    let timer;\n\n    if (localStorage.getItem('spinner') === null) {\n      timer = setTimeout(() => {\n        setLoad(false);\n        localStorage.setItem('spinner', true);\n      }, 5000);\n    }\n\n    axios.get(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/user.json/`).then(response => {\n      setAdresse(response.data.address);\n    }).catch(err => console.log(err));\n    return () => {\n      resetCart();\n      clearTimeout(timer);\n      localStorage.removeItem('Panier');\n      localStorage.removeItem('spinner');\n    };\n  }, [resetCart]);\n  const slides = movies.map(movie => /*#__PURE__*/React.createElement(\"img\", {\n    src: `https://image.tmdb.org/t/p/original/${movie.img}`,\n    className: \"ImgMyList\",\n    alt: movie.id,\n    key: movie.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 41\n    }\n  }));\n  let show = load === true && localStorage.getItem('spinner') === null ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '100vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    style: {\n      height: '200px',\n      width: '200px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      marginTop: '30px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, \" Veuillez patient , paiment en cours\"))) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      minHeight: '100vh',\n      width: '65%',\n      margin: 'auto',\n      marginTop: '50px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"good\",\n    src: \"https://www.welovebuzz.com/wp-content/uploads/2019/11/giphy-5-8.gif\",\n    style: {\n      borderRadius: '50%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      marginTop: '50px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, \"Merci, nous avons re\\xE7u votre commande \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 74\n    }\n  }), \"n\\u1D52 \", order, \".\"), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      marginTop: '50px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, \"Veuilez consulter votre messagerie pour obtenir la confirmation de commande, ainsi que tout les details correspond a votre achat.\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, \"Vous avez dorenavant la possibilite d'acceder a vos films dans votre espace perso.\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, \"Facture livrer \\xE0 l'adresse suivante : \", adresse, \".\"), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      marginBottom: '100px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, \"Recapitulatif des fils de  votre commande:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"BlockMyList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Carousel, {\n    slides: slides,\n    autoplay: true,\n    interval: 3000,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  })));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, show);\n};\n\nexport default ConfirmOrder;","map":{"version":3,"sources":["/Users/miclaude/Desktop/Hypertube/src/containers/ConfirmOrder/ConfirmOrder.jsx"],"names":["React","useEffect","useState","axios","actions","useSelector","useDispatch","useCallback","Carousel","Spinner","ConfirmOrder","order","localStorage","getItem","adresse","setAdresse","dispatch","resetCart","movies","state","cart","load","setLoad","timer","setTimeout","setItem","get","then","response","data","address","catch","err","console","log","clearTimeout","removeItem","slides","map","movie","img","id","show","height","display","justifyContent","alignItems","width","marginTop","minHeight","margin","textAlign","borderRadius","marginBottom"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,OAAZ,MAAyB,2BAAzB;AACA,SAASC,WAAT,EAAsBC,WAAtB,EAAkCC,WAAlC,QAAqD,aAArD;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,SAAQC,OAAR,QAAsB,iBAAtB;;AAEA,MAAMC,YAAY,GAAG,MAAM;AACvB,MAAIC,KAAK,GAAG,UAAUC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAtB;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAMc,QAAQ,GAAGV,WAAW,EAA5B,CAHuB,CAIvB;;AAEA,QAAMW,SAAS,GAAGV,WAAW,CAAC,MAAM;AAChCS,IAAAA,QAAQ,CAACZ,OAAO,CAACa,SAAR,EAAD,CAAR;AACH,GAF4B,EAE1B,CAACD,QAAD,CAF0B,CAA7B;AAIA,QAAME,MAAM,GAAGb,WAAW,CAACc,KAAK,IAAIA,KAAK,CAACC,IAAN,CAAWA,IAArB,CAA1B;AACA,QAAM,CAACC,IAAD,EAAMC,OAAN,IAAiBpB,QAAQ,CAAC,IAAD,CAA/B;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIsB,KAAJ;;AACA,QAAIX,YAAY,CAACC,OAAb,CAAqB,SAArB,MAAoC,IAAxC,EAA6C;AACzCU,MAAAA,KAAK,GAAGC,UAAU,CAAC,MAAM;AACrBF,QAAAA,OAAO,CAAC,KAAD,CAAP;AACAV,QAAAA,YAAY,CAACa,OAAb,CAAqB,SAArB,EAA+B,IAA/B;AACH,OAHiB,EAGf,IAHe,CAAlB;AAIH;;AACDtB,IAAAA,KAAK,CAACuB,GAAN,CAAW,uCAAsCd,YAAY,CAACC,OAAb,CAAqB,IAArB,CAA2B,aAA5E,EACKc,IADL,CACUC,QAAQ,IAAI;AAACb,MAAAA,UAAU,CAACa,QAAQ,CAACC,IAAT,CAAcC,OAAf,CAAV;AAAmC,KAD1D,EAEKC,KAFL,CAEWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAFlB;AAGA,WAAQ,MAAM;AACVf,MAAAA,SAAS;AACTkB,MAAAA,YAAY,CAACZ,KAAD,CAAZ;AACAX,MAAAA,YAAY,CAACwB,UAAb,CAAwB,QAAxB;AACAxB,MAAAA,YAAY,CAACwB,UAAb,CAAwB,SAAxB;AACH,KALD;AAMH,GAjBQ,EAiBN,CAACnB,SAAD,CAjBM,CAAT;AAmBA,QAAMoB,MAAM,GAAGnB,MAAM,CAACoB,GAAP,CAAWC,KAAK,iBAAK;AAAK,IAAA,GAAG,EAAG,uCAAsCA,KAAK,CAACC,GAAI,EAA3D;AAA8D,IAAA,SAAS,EAAC,WAAxE;AAAoF,IAAA,GAAG,EAAED,KAAK,CAACE,EAA/F;AAAmG,IAAA,GAAG,EAAEF,KAAK,CAACE,EAA9G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAArB,CAAf;AAGA,MAAIC,IAAI,GAAGrB,IAAI,KAAK,IAAT,IAAiBT,YAAY,CAACC,OAAb,CAAqB,SAArB,MAAmC,IAApD,gBACP;AAAK,IAAA,KAAK,EAAE;AAAC8B,MAAAA,MAAM,EAAC;AAAR,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,KAAK,EAAE;AAACC,MAAAA,OAAO,EAAC,MAAT;AAAiBC,MAAAA,cAAc,EAAC,QAAhC;AAA0CC,MAAAA,UAAU,EAAC;AAArD,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,OAAD;AAAS,IAAA,SAAS,EAAC,QAAnB;AAA4B,IAAA,KAAK,EAAE;AAACH,MAAAA,MAAM,EAAC,OAAR;AAAgBI,MAAAA,KAAK,EAAC;AAAtB,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAG,IAAA,KAAK,EAAE;AAACC,MAAAA,SAAS,EAAC;AAAX,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAFJ,CADJ,CADO,gBAQX;AAAK,IAAA,KAAK,EAAE;AAACC,MAAAA,SAAS,EAAC,OAAX;AAAoBF,MAAAA,KAAK,EAAC,KAA1B;AAAiCG,MAAAA,MAAM,EAAC,MAAxC;AAAgDF,MAAAA,SAAS,EAAC;AAA1D,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,KAAK,EAAE;AAACG,MAAAA,SAAS,EAAC;AAAX,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,GAAG,EAAC,MAAT;AAAgB,IAAA,GAAG,EAAC,qEAApB;AAA0F,IAAA,KAAK,EAAE;AAACC,MAAAA,YAAY,EAAC;AAAd,KAAjG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADA,eAIA;AAAI,IAAA,KAAK,EAAE;AAACJ,MAAAA,SAAS,EAAC;AAAX,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+DAAqE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAArE,cAA8ErC,KAA9E,MAJA,eAKA;AAAG,IAAA,KAAK,EAAE;AAACqC,MAAAA,SAAS,EAAC;AAAX,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yIALA,eAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0FANA,eAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDAA0ClC,OAA1C,MAPA,eAQA;AAAG,IAAA,KAAK,EAAE;AAACuC,MAAAA,YAAY,EAAC;AAAd,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDARA,eASA;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAU,IAAA,MAAM,EAAEhB,MAAlB;AAA0B,IAAA,QAAQ,EAAE,IAApC;AAA0C,IAAA,QAAQ,EAAE,IAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CATA,CARA;AAqBA,sBACA,0CAAGK,IAAH,CADA;AAGH,CA3DD;;AA4DA,eAAehC,YAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport * as actions from '../../store/actions/index';\nimport { useSelector, useDispatch,useCallback } from 'react-redux';\nimport { Carousel } from '3d-react-carousal';\nimport {Spinner} from 'react-bootstrap'\n\nconst ConfirmOrder = () => {\n    let order = 'FUWTS' + localStorage.getItem('numOrder');\n    const [adresse, setAdresse] = useState('')\n    const dispatch = useDispatch();\n    // const resetCart = () => { dispatch(actions.resetCart()) };\n\n    const resetCart = useCallback(() => { \n        dispatch(actions.resetCart())\n    }, [dispatch]);\n\n    const movies = useSelector(state => state.cart.cart);\n    const [load,setLoad] = useState(true);\n\n    useEffect(() => {\n        let timer;\n        if (localStorage.getItem('spinner') === null){\n            timer = setTimeout(() => {\n                setLoad(false)\n                localStorage.setItem('spinner',true)\n            }, 5000);\n        }\n        axios.get(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/user.json/`)\n            .then(response => {setAdresse(response.data.address) })\n            .catch(err => console.log(err))  \n        return (() => {\n            resetCart();\n            clearTimeout(timer)\n            localStorage.removeItem('Panier')\n            localStorage.removeItem('spinner')\n        }) \n    }, [resetCart])\n\n    const slides = movies.map(movie => (<img src={`https://image.tmdb.org/t/p/original/${movie.img}`} className='ImgMyList' alt={movie.id} key={movie.id}/>     ));\n\n\n    let show = load === true && localStorage.getItem('spinner')=== null ?\n        <div style={{height:'100vh'}}>\n            <div style={{display:'flex', justifyContent:'center', alignItems:'center'}}> \n                <Spinner animation=\"border\" style={{height:'200px',width:'200px'}}/>\n                <p style={{marginTop:'30px'}}> Veuillez patient , paiment en cours</p>\n            </div>\n        </div>\n    :  \n    <div style={{minHeight:'100vh', width:'65%', margin:'auto', marginTop:'50px'}}>\n    <div style={{textAlign:'center'}}>\n        <img alt=\"good\" src='https://www.welovebuzz.com/wp-content/uploads/2019/11/giphy-5-8.gif' style={{borderRadius:'50%'}}/>\n    </div>\n    <h1 style={{marginTop:'50px'}}>Merci, nous avons reçu votre commande <br/>nᵒ {order}.</h1>\n    <p style={{marginTop:'50px'}}>Veuilez consulter votre messagerie pour obtenir la confirmation de commande, ainsi que tout les details correspond a votre achat.</p>\n    <p>Vous avez dorenavant la possibilite d'acceder a vos films dans votre espace perso.</p>\n    <p>Facture livrer à l'adresse suivante : {adresse}.</p>\n    <p style={{marginBottom:'100px'}}>Recapitulatif des fils de  votre commande:</p>\n    <div className=\"BlockMyList\">\n        <Carousel slides={slides} autoplay={true} interval={3000}/>\n    </div>\n</div>\n    return (\n    <>{show}</>\n    )\n}\nexport default ConfirmOrder; "]},"metadata":{},"sourceType":"module"}