{"ast":null,"code":"import * as actionTypes from './actionTypes';\nimport axios from 'axios';\nimport { API_KEY, PATH_BASE, PATH_DISCOVER, PATH_MOVIE, PATH_SEARCH, PATH_PAGE, PATH_ADULT, PATH_LANGUE } from '../../containers/Home/MoviesList/api';\nexport const movies = (movies, page, nbPage, hasMore) => {\n  return {\n    type: actionTypes.MOVIES,\n    movies: movies,\n    page: page,\n    nbPage: nbPage,\n    hasMore: hasMore\n  };\n};\nexport const popular = page => {\n  return dispatch => {\n    axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=1e32f5c452c2267d5367589e9864ab1c&language=fr&page=${page}`).then(response => {\n      console.log('responsePopular ---> ', response.data);\n      let pages = dispatch(movies(response.data.results, page, response.data.total_pages, true));\n    }).catch(err => console.log(err));\n  };\n};\nexport const filtres = filtres => {\n  return dispatch => {\n    let url = `${PATH_BASE}${PATH_DISCOVER}${PATH_MOVIE}${API_KEY}${PATH_PAGE}1${PATH_ADULT}${PATH_LANGUE}fr`;\n    if (!!filtres.genre.value) url += `&with_genres=${filtres.genre.value}`;\n    if (!!filtres.years.value) url += `&primary_release_year=${filtres.years.value}`;\n    if (!!filtres.sortby.value) url += `&sort_by=${filtres.sortby.value}`;\n    axios.get(url).then(response => {\n      dispatch(movies(response.data.results));\n    }).catch(err => console.log(err));\n  };\n};\nexport const textSearch = textSearch => {\n  return dispatch => {\n    if (!!textSearch) {\n      axios.get(`${PATH_BASE}${PATH_SEARCH}${PATH_MOVIE}${API_KEY}${PATH_PAGE}1${PATH_LANGUE}fr${PATH_ADULT}\"&query=${textSearch}`).then(response => {\n        dispatch(movies(response.data.results));\n      }).catch(err => console.log(err));\n    } else dispatch(popular());\n  };\n};","map":{"version":3,"sources":["/Users/miclaude/Desktop/react/Netflix/netflix2/src/store/actions/filtres.js"],"names":["actionTypes","axios","API_KEY","PATH_BASE","PATH_DISCOVER","PATH_MOVIE","PATH_SEARCH","PATH_PAGE","PATH_ADULT","PATH_LANGUE","movies","page","nbPage","hasMore","type","MOVIES","popular","dispatch","get","then","response","console","log","data","pages","results","total_pages","catch","err","filtres","url","genre","value","years","sortby","textSearch"],"mappings":"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","sourcesContent":["import * as actionTypes from './actionTypes';\nimport axios from 'axios';\nimport { API_KEY, PATH_BASE, PATH_DISCOVER, PATH_MOVIE, PATH_SEARCH, PATH_PAGE, PATH_ADULT, PATH_LANGUE } from  '../../containers/Home/MoviesList/api';\n\nexport const movies = (movies, page, nbPage, hasMore) => {\n    return {\n        type: actionTypes.MOVIES,\n        movies: movies,\n        page: page,\n        nbPage: nbPage,\n        hasMore: hasMore\n    }\n};\n\nexport const popular = (page) => {\n    return dispatch => {\n        axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=1e32f5c452c2267d5367589e9864ab1c&language=fr&page=${page}`)\n            .then(response => {\n                console.log('responsePopular ---> ',response.data);\n                let pages = \n                dispatch(movies(response.data.results, page, response.data.total_pages, true));\n            })\n            .catch(err => console.log(err))\n    }\n};\n\nexport const filtres = (filtres) => {\n    return dispatch => {\n        let url = `${PATH_BASE}${PATH_DISCOVER}${PATH_MOVIE}${API_KEY}${PATH_PAGE}1${PATH_ADULT}${PATH_LANGUE}fr`;\n        if (!!filtres.genre.value)\n            url += `&with_genres=${filtres.genre.value}`;\n        if (!!filtres.years.value)\n            url += `&primary_release_year=${filtres.years.value}`;\n        if (!!filtres.sortby.value)\n            url += `&sort_by=${filtres.sortby.value}`;\n        axios.get(url)\n            .then(response => {\n                dispatch(movies(response.data.results));\n            })\n            .catch(err => console.log(err))\n    }\n};\n\nexport const textSearch = (textSearch) => {\n    return dispatch => {\n        if (!!textSearch) {\n            axios.get(`${PATH_BASE}${PATH_SEARCH}${PATH_MOVIE}${API_KEY}${PATH_PAGE}1${PATH_LANGUE}fr${PATH_ADULT}\"&query=${textSearch}`)\n            .then(response => {\n                dispatch(movies(response.data.results));\n            })\n            .catch(err => console.log(err))\n        }\n        else \n           dispatch(popular());\n    }\n};"]},"metadata":{},"sourceType":"module"}