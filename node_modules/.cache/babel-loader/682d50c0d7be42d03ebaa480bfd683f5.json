{"ast":null,"code":"import * as actionTypes from './actionTypes';\nimport axios from 'axios';\nexport const genre = genre => {\n  return {\n    type: actionTypes.GENRE,\n    genre: genre\n  };\n};\nexport const ordre = ordre => {\n  return {\n    type: actionTypes.ORDRE,\n    ordre: ordre\n  };\n};\nexport const years = years => {\n  return {\n    type: actionTypes.YEARS,\n    years: years\n  };\n};\nexport const textSearch = textSearch => {\n  return {\n    type: actionTypes.TEXT_SEARCH,\n    textSearch: textSearch\n  };\n};\nexport const movies = movies => {\n  return {\n    type: actionTypes.MOVIES,\n    movies: movies\n  };\n};\nexport const filtres = filtres => {\n  return dispatch => {\n    let url = `${PATH_BASE}${PATH_DISCOVER}${PATH_MOVIE}${API_KEY}${PATH_PAGE}${this.state.page}${PATH_ADULT}${PATH_LANGUE}fr`;\n    if (!!filtres.genre.value) url += `&with_genres=${filtres.genre.value}`; //     if (!!this.props.years)\n    //       url += `&primary_release_year=${this.props.years}`;\n    //     if (!!this.props.ordre)\n    //       url += `&sort_by=${this.props.ordre}`;\n\n    axios.get(`https://api.themoviedb.org/3/discover/movie?api_key=1e32f5c452c2267d5367589e9864ab1c&with_genres=${filtres.genre.value}`).then(response => {\n      dispatch(movies(response.data.results));\n    }).catch(err => console.log(err));\n  };\n}; // let url = `${PATH_BASE}${PATH_DISCOVER}${PATH_MOVIE}${API_KEY}${PATH_PAGE}${this.state.page}${PATH_ADULT}${PATH_LANGUE}fr`;\n//     if (!!this.props.genre) \n//       url += `&with_genres=${this.props.genre}`;\n//     if (!!this.props.years)\n//       url += `&primary_release_year=${this.props.years}`;\n//     if (!!this.props.ordre)\n//       url += `&sort_by=${this.props.ordre}`;\n//     axios.get(url)","map":{"version":3,"sources":["/Users/miclaude/Desktop/react/Netflix/netflix2/src/store/actions/filtres.js"],"names":["actionTypes","axios","genre","type","GENRE","ordre","ORDRE","years","YEARS","textSearch","TEXT_SEARCH","movies","MOVIES","filtres","dispatch","url","PATH_BASE","PATH_DISCOVER","PATH_MOVIE","API_KEY","PATH_PAGE","state","page","PATH_ADULT","PATH_LANGUE","value","get","then","response","data","results","catch","err","console","log"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,eAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,KAAK,GAAIA,KAAD,IAAW;AAC5B,SAAO;AACHC,IAAAA,IAAI,EAAEH,WAAW,CAACI,KADf;AAEHF,IAAAA,KAAK,EAAEA;AAFJ,GAAP;AAIH,CALM;AAOP,OAAO,MAAMG,KAAK,GAAIA,KAAD,IAAW;AAC5B,SAAO;AACHF,IAAAA,IAAI,EAAEH,WAAW,CAACM,KADf;AAEHD,IAAAA,KAAK,EAAEA;AAFJ,GAAP;AAIH,CALM;AAOP,OAAO,MAAME,KAAK,GAAIA,KAAD,IAAW;AAC5B,SAAO;AACHJ,IAAAA,IAAI,EAAEH,WAAW,CAACQ,KADf;AAEHD,IAAAA,KAAK,EAAEA;AAFJ,GAAP;AAIH,CALM;AAOP,OAAO,MAAME,UAAU,GAAIA,UAAD,IAAgB;AACtC,SAAO;AACHN,IAAAA,IAAI,EAAEH,WAAW,CAACU,WADf;AAEHD,IAAAA,UAAU,EAAEA;AAFT,GAAP;AAIH,CALM;AAOP,OAAO,MAAME,MAAM,GAAIA,MAAD,IAAY;AAC9B,SAAO;AACHR,IAAAA,IAAI,EAAEH,WAAW,CAACY,MADf;AAEHD,IAAAA,MAAM,EAAEA;AAFL,GAAP;AAIH,CALM;AAOP,OAAO,MAAME,OAAO,GAAIA,OAAD,IAAa;AAChC,SAAOC,QAAQ,IAAI;AACf,QAAIC,GAAG,GAAI,GAAEC,SAAU,GAAEC,aAAc,GAAEC,UAAW,GAAEC,OAAQ,GAAEC,SAAU,GAAE,KAAKC,KAAL,CAAWC,IAAK,GAAEC,UAAW,GAAEC,WAAY,IAAvH;AACA,QAAI,CAAC,CAACX,OAAO,CAACX,KAAR,CAAcuB,KAApB,EACIV,GAAG,IAAK,gBAAeF,OAAO,CAACX,KAAR,CAAcuB,KAAM,EAA3C,CAHW,CAIX;AACZ;AACA;AACA;;AAGQxB,IAAAA,KAAK,CAACyB,GAAN,CAAW,oGAAmGb,OAAO,CAACX,KAAR,CAAcuB,KAAM,EAAlI,EACKE,IADL,CACUC,QAAQ,IAAI;AACdd,MAAAA,QAAQ,CAACH,MAAM,CAACiB,QAAQ,CAACC,IAAT,CAAcC,OAAf,CAAP,CAAR;AACH,KAHL,EAIKC,KAJL,CAIWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAJlB;AAKH,GAfD;AAgBH,CAjBM,C,CAmBP;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["import * as actionTypes from './actionTypes';\nimport axios from 'axios';\n\nexport const genre = (genre) => {\n    return {\n        type: actionTypes.GENRE,\n        genre: genre\n    };\n};\n\nexport const ordre = (ordre) => {\n    return {\n        type: actionTypes.ORDRE,\n        ordre: ordre\n    };\n};\n\nexport const years = (years) => {\n    return {\n        type: actionTypes.YEARS,\n        years: years\n    };\n};\n\nexport const textSearch = (textSearch) => {\n    return {\n        type: actionTypes.TEXT_SEARCH,\n        textSearch: textSearch\n    }; \n};\n\nexport const movies = (movies) => {\n    return {\n        type: actionTypes.MOVIES,\n        movies: movies\n    }\n};\n\nexport const filtres = (filtres) => {\n    return dispatch => {\n        let url = `${PATH_BASE}${PATH_DISCOVER}${PATH_MOVIE}${API_KEY}${PATH_PAGE}${this.state.page}${PATH_ADULT}${PATH_LANGUE}fr`;\n        if (!!filtres.genre.value)\n            url += `&with_genres=${filtres.genre.value}`;\n            //     if (!!this.props.years)\n//       url += `&primary_release_year=${this.props.years}`;\n//     if (!!this.props.ordre)\n//       url += `&sort_by=${this.props.ordre}`;\n\n\n        axios.get(`https://api.themoviedb.org/3/discover/movie?api_key=1e32f5c452c2267d5367589e9864ab1c&with_genres=${filtres.genre.value}`)\n            .then(response => {\n                dispatch(movies(response.data.results));\n            })\n            .catch(err => console.log(err))\n    }\n}\n\n// let url = `${PATH_BASE}${PATH_DISCOVER}${PATH_MOVIE}${API_KEY}${PATH_PAGE}${this.state.page}${PATH_ADULT}${PATH_LANGUE}fr`;\n//     if (!!this.props.genre) \n//       url += `&with_genres=${this.props.genre}`;\n//     if (!!this.props.years)\n//       url += `&primary_release_year=${this.props.years}`;\n//     if (!!this.props.ordre)\n//       url += `&sort_by=${this.props.ordre}`;\n\n//     axios.get(url)"]},"metadata":{},"sourceType":"module"}