{"ast":null,"code":"import * as actionTypes from './actionTypes';\nimport axios from 'axios';\nimport { API_KEY, PATH_BASE, PATH_DISCOVER, PATH_MOVIE, PATH_SEARCH, PATH_PAGE, PATH_ADULT, PATH_LANGUE } from '../../containers/Home/MoviesList/api';\nexport const initialise = () => {\n  return {\n    type: actionTypes.INITIALISE\n  };\n};\nexport const initialiseFiltres = () => {\n  return {\n    type: actionTypes.INITIALISE_FILTRES\n  };\n};\nexport const initialiseTextSearch = () => {\n  return {\n    type: actionTypes.INITIALISE_TEXTSEARCH\n  };\n};\nexport const filtres = filtres => {\n  return {\n    type: actionTypes.FILTRES,\n    filtres: filtres\n  };\n};\nexport const textSearch = textSearch => {\n  return {\n    type: actionTypes.TEXT_SEARCH,\n    textSearch: textSearch\n  };\n};\nexport const movies = (movies, nbPage, page, next, noResult) => {\n  return {\n    type: actionTypes.MOVIES,\n    newMovies: movies,\n    nbPage: nbPage,\n    page: page,\n    next: next,\n    noResult: noResult\n  };\n}; // export const infoMovie = (years,) => {\n//     return {\n//         type: actionTypes.INFO_MOVIE,\n//         data: data,\n//         acteurs: acteurs,\n//         years: years\n//     }\n// }\n\naxios.get(`https://api.themoviedb.org/3/movie/${this.props.idMovie}/similar?api_key=1e32f5c452c2267d5367589e9864ab1c&language=fr&page=1`).then(response => this.setState({\n  similarMovie: response.data.results.slice(0, 20)\n}, () => console.log(response.data))).catch(error => console.log(error));\nexport const movieData = id => {\n  return dispatch => {\n    axios.get(`https://api.themoviedb.org/3/movie/${id}?api_key=1e32f5c452c2267d5367589e9864ab1c&append_to_response=videos,credits,similar&language=fr&include_adult=false`).then(response => {\n      // let data = response.data\n      console.log(response.data);\n    } // axios.get(`https://api.themoviedb.org/3/movie/${this.state.id}/credits?api_key=1e32f5c452c2267d5367589e9864ab1c`)\n    // .then(response => {\n    //     let acteurs = response.data.cast.splice(0, 4);\n    //     acteurs = acteurs.map(acteur => {\n    //         return {\n    //             ...acteur,\n    //             img: true\n    //         }\n    //     })\n    //     this.setState({acteurs: acteurs})\n    // })\n    // dispatch() \n    // this.setState({movie : response.data, genre : response.data.genres, years: response.data.release_date.substr(0, 4)}, () => this.idVideoYoutube())\n    ).catch(err => console.log(err));\n  };\n};\nexport const popularRequest = page => {\n  return dispatch => {\n    axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=1e32f5c452c2267d5367589e9864ab1c&language=fr&page=${page}`).then(response => {\n      dispatch(movies(response.data.results, response.data.total_pages, page, 'popular'));\n    }).catch(err => console.log(err));\n  };\n};\nexport const filtresRequest = (filtres, page) => {\n  return dispatch => {\n    let url = `${PATH_BASE}${PATH_DISCOVER}${PATH_MOVIE}${API_KEY}${PATH_PAGE}${page}${PATH_ADULT}${PATH_LANGUE}fr`;\n    if (!!filtres.genre.value) url += `&with_genres=${filtres.genre.value}`;\n    if (!!filtres.years.value) url += `&primary_release_year=${filtres.years.value}`;\n    if (!!filtres.sortby.value) url += `&sort_by=${filtres.sortby.value}`;\n    axios.get(url).then(response => {\n      dispatch(movies(response.data.results, response.data.total_pages, page, 'filtres'));\n    }).catch(err => console.log(err));\n  };\n};\nexport const textSearchRequest = (textSearch, page) => {\n  return dispatch => {\n    axios.get(`${PATH_BASE}${PATH_SEARCH}${PATH_MOVIE}${API_KEY}${PATH_PAGE}${page}${PATH_LANGUE}fr${PATH_ADULT}\"&query=${textSearch}`).then(response => {\n      let noResult;\n      response.data.total_results === 0 ? noResult = true : noResult = false;\n      dispatch(movies(response.data.results, response.data.total_pages, page, 'textSearch', noResult));\n    }).catch(err => console.log(err));\n  };\n};","map":{"version":3,"sources":["/Users/miclaude/Desktop/Netflix_Project/src/store/actions/movies.js"],"names":["actionTypes","axios","API_KEY","PATH_BASE","PATH_DISCOVER","PATH_MOVIE","PATH_SEARCH","PATH_PAGE","PATH_ADULT","PATH_LANGUE","initialise","type","INITIALISE","initialiseFiltres","INITIALISE_FILTRES","initialiseTextSearch","INITIALISE_TEXTSEARCH","filtres","FILTRES","textSearch","TEXT_SEARCH","movies","nbPage","page","next","noResult","MOVIES","newMovies","get","props","idMovie","then","response","setState","similarMovie","data","results","slice","console","log","catch","error","movieData","id","dispatch","err","popularRequest","total_pages","filtresRequest","url","genre","value","years","sortby","textSearchRequest","total_results"],"mappings":"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","sourcesContent":["import * as actionTypes from './actionTypes';\nimport axios from 'axios';\nimport { API_KEY, PATH_BASE, PATH_DISCOVER, PATH_MOVIE, PATH_SEARCH, PATH_PAGE, PATH_ADULT, PATH_LANGUE } from  '../../containers/Home/MoviesList/api';\n\nexport const initialise = () => {\n    return {\n        type: actionTypes.INITIALISE,\n    }\n};\n\nexport const initialiseFiltres = () => {\n    return {\n        type: actionTypes.INITIALISE_FILTRES,\n    }\n};\n\nexport const initialiseTextSearch = () => {\n    return {\n        type: actionTypes.INITIALISE_TEXTSEARCH,\n    }\n};\n\nexport const filtres = (filtres) => {\n    return {\n        type: actionTypes.FILTRES,\n        filtres: filtres\n    }\n};\n\nexport const textSearch = (textSearch) => {\n    return {\n        type: actionTypes.TEXT_SEARCH,\n        textSearch: textSearch\n    }\n};\n\nexport const movies = (movies, nbPage, page, next, noResult) => {\n    return {\n        type: actionTypes.MOVIES,\n        newMovies: movies,\n        nbPage: nbPage,\n        page: page,\n        next: next,\n        noResult: noResult \n    }\n};\n\n// export const infoMovie = (years,) => {\n//     return {\n//         type: actionTypes.INFO_MOVIE,\n//         data: data,\n//         acteurs: acteurs,\n//         years: years\n//     }\n// }\n\n\naxios.get(`https://api.themoviedb.org/3/movie/${this.props.idMovie}/similar?api_key=1e32f5c452c2267d5367589e9864ab1c&language=fr&page=1`)\n    .then(response => this.setState({similarMovie: response.data.results.slice(0, 20)}, () => console.log(response.data)))\n    .catch(error => console.log(error));\nexport const movieData = (id) => {\n    return dispatch => {\n        axios.get(`https://api.themoviedb.org/3/movie/${id}?api_key=1e32f5c452c2267d5367589e9864ab1c&append_to_response=videos,credits,similar&language=fr&include_adult=false`)\n            .then(response => {\n                // let data = response.data\n                console.log(response.data)\n\n            }\n               \n\n\n                // axios.get(`https://api.themoviedb.org/3/movie/${this.state.id}/credits?api_key=1e32f5c452c2267d5367589e9864ab1c`)\n                // .then(response => {\n                //     let acteurs = response.data.cast.splice(0, 4);\n                //     acteurs = acteurs.map(acteur => {\n                //         return {\n                //             ...acteur,\n                //             img: true\n                //         }\n                //     })\n                //     this.setState({acteurs: acteurs})\n                // })\n\n                // dispatch() \n                // this.setState({movie : response.data, genre : response.data.genres, years: response.data.release_date.substr(0, 4)}, () => this.idVideoYoutube())\n            )\n            .catch(err => console.log(err));\n    }\n}\n\nexport const popularRequest = (page) => {\n    return dispatch => {\n        axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=1e32f5c452c2267d5367589e9864ab1c&language=fr&page=${page}`)\n            .then(response => {\n                dispatch(movies(response.data.results, response.data.total_pages, page, 'popular'));\n            })\n            .catch(err => console.log(err));\n    }\n};\n\nexport const filtresRequest = (filtres, page) => {\n    return dispatch => {\n        let url = `${PATH_BASE}${PATH_DISCOVER}${PATH_MOVIE}${API_KEY}${PATH_PAGE}${page}${PATH_ADULT}${PATH_LANGUE}fr`;\n        if (!!filtres.genre.value)\n            url += `&with_genres=${filtres.genre.value}`;\n        if (!!filtres.years.value)\n            url += `&primary_release_year=${filtres.years.value}`;\n        if (!!filtres.sortby.value)\n            url += `&sort_by=${filtres.sortby.value}`;\n        axios.get(url)\n            .then(response => {\n                dispatch(movies(response.data.results, response.data.total_pages, page, 'filtres'));\n            })\n            .catch(err => console.log(err));\n    }\n};\n\nexport const textSearchRequest = (textSearch, page) => {\n    return dispatch => {\n        axios.get(`${PATH_BASE}${PATH_SEARCH}${PATH_MOVIE}${API_KEY}${PATH_PAGE}${page}${PATH_LANGUE}fr${PATH_ADULT}\"&query=${textSearch}`)\n            .then(response => {\n                let noResult ;\n                response.data.total_results === 0 ? noResult = true : noResult = false; \n                dispatch(movies(response.data.results, response.data.total_pages, page, 'textSearch', noResult));\n            })\n            .catch(err => console.log(err));\n    }\n};\n"]},"metadata":{},"sourceType":"module"}