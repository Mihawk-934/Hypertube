{"ast":null,"code":"var _jsxFileName = \"/Users/miclaude/Desktop/Netflix/src/containers/Profil/MyInfo/CbUser/CbUser.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport Cards from 'react-credit-cards';\nimport MyButton from '../../../../components/MyButton/MyButton';\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'react-credit-cards/es/styles-compiled.css';\nimport './CbUser.css';\n\nconst CbUser = () => {\n  const [number, setNumber] = useState('');\n  const [name, setName] = useState('');\n  const [expiry, setExpiry] = useState('');\n  const [cvc, setCvc] = useState('');\n  const [focus, setFocus] = useState('');\n  useEffect(() => {\n    let idLocal = localStorage.getItem('id');\n    axios.get(`https://movies-27cd5.firebaseio.com/${idLocal}/CarteBleu.json/`).then(response => {\n      setCvc(response.data.cvc);\n      setName(response.data.name);\n      setExpiry(response.data.expiry);\n      setNumber(response.data.number);\n    }).catch(err => {// console.log(err)\n    });\n  }, []);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const data = {\n      name: name,\n      number: number,\n      cvc: cvc,\n      expiry: expiry\n    };\n    axios.put(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/CarteBleu.json/`, data).then(response => {\n      toast.success('Carte Bleu mise Ã  jour.', {\n        autoClose: 3000,\n        closeButton: false\n      }); // console.log(response);  \n    }).catch(err => {\n      toast.error('Erreur, veuillez ressayer plus tard ðŸ˜®.', {\n        autoClose: 3000,\n        closeButton: false\n      }); // console.log(err.response)\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"PaymentForm\",\n    className: \"BlockContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ToastContainer, {\n    position: \"top-center\",\n    pauseOnFocusLoss: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"TitleBackground\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, \"Carte bancaire\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"BlockCbUser\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Cards, {\n    cvc: cvc,\n    expiry: expiry,\n    focused: focus,\n    name: name,\n    number: number,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Duo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"Input\",\n    type: \"tel\",\n    id: \"number\",\n    placeholder: \"Numero de carte\",\n    onChange: e => setNumber(e.target.value),\n    onFocus: e => setFocus(e.target.id),\n    pattern: \"[0-9]+\",\n    title: \"Veuillez entrer les 16 chiffres de votre carte.\",\n    value: number,\n    minLength: \"16\",\n    maxLength: \"16\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Duo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"Input\",\n    type: \"text\",\n    id: \"name\",\n    placeholder: \"Nom\",\n    onChange: e => setName(e.target.value),\n    onFocus: e => setFocus(e.target.id),\n    pattern: \"^[A-Za-z -]+$\",\n    title: \"please enter letters only\",\n    value: name,\n    minLength: \"2\",\n    maxLength: \"25\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"blockCvcDate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Duo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"Input\",\n    type: \"tel\",\n    id: \"expiry\",\n    placeholder: \"date d'expiration\",\n    onChange: e => setExpiry(e.target.value),\n    onFocus: e => setFocus(e.target.id),\n    pattern: \"[0-9]+\",\n    title: \"Veuillez entrer la date d'expiration de votre carte.\",\n    value: expiry,\n    minLength: \"4\",\n    maxLength: \"4\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Duo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"Input\",\n    type: \"tel\",\n    id: \"cvc\",\n    placeholder: \"CVC\",\n    onChange: e => setCvc(e.target.value),\n    onFocus: e => setFocus(e.target.id),\n    pattern: \"[0-9]+\",\n    title: \"Veuillez entrer les 3 chiffres CVC de votre carte.\",\n    value: cvc,\n    minLength: \"3\",\n    maxLength: \"3\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '200px'\n    },\n    className: \"Duo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(MyButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default CbUser;","map":{"version":3,"sources":["/Users/miclaude/Desktop/Netflix/src/containers/Profil/MyInfo/CbUser/CbUser.jsx"],"names":["React","useState","useEffect","Cards","MyButton","axios","ToastContainer","toast","CbUser","number","setNumber","name","setName","expiry","setExpiry","cvc","setCvc","focus","setFocus","idLocal","localStorage","getItem","get","then","response","data","catch","err","handleSubmit","e","preventDefault","put","success","autoClose","closeButton","error","target","value","id","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Cards from 'react-credit-cards';\nimport MyButton from '../../../../components/MyButton/MyButton';\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'react-credit-cards/es/styles-compiled.css';\nimport './CbUser.css';\n\nconst CbUser = () => {\n    const [ number, setNumber ] = useState('');\n    const [ name, setName ] = useState('');\n    const [ expiry, setExpiry ] = useState('');\n    const [ cvc, setCvc ] = useState('');\n    const [ focus, setFocus ] = useState('');\n    \n    useEffect(() => {\n        let idLocal = localStorage.getItem('id')\n        axios.get(`https://movies-27cd5.firebaseio.com/${idLocal}/CarteBleu.json/`)\n            .then(response => {\n                setCvc(response.data.cvc) \n                setName(response.data.name)   \n                setExpiry(response.data.expiry)  \n                setNumber(response.data.number)  \n            })\n            .catch(err => {\n                // console.log(err)\n            })\n    }, []) \n \n    const handleSubmit = (e) => {\n        e.preventDefault(); \n        const data = {\n            name: name,\n            number: number,\n            cvc: cvc,\n            expiry: expiry,\n         };\n        axios.put(`https://movies-27cd5.firebaseio.com/${localStorage.getItem('id')}/CarteBleu.json/`, data)\n            .then(response => {\n                toast.success('Carte Bleu mise Ã  jour.', {\n                    autoClose: 3000,\n                    closeButton: false\n                })\n                // console.log(response);  \n            })\n            .catch(err => {\n                toast.error('Erreur, veuillez ressayer plus tard ðŸ˜®.', {\n                    autoClose: 3000,\n                    closeButton: false\n                })\n                // console.log(err.response)\n            })    \n    }\n\n    return (\n        <div id=\"PaymentForm\" className=\"BlockContainer\">\n            <ToastContainer position=\"top-center\" pauseOnFocusLoss/>\n            <div className=\"TitleBackground\">\n                <h4 className='h4'>Carte bancaire</h4>\n            </div>\n            <div className=\"BlockCbUser\">\n                <Cards\n                    cvc={cvc}\n                    expiry={expiry}\n                    focused={focus}\n                    name={name}\n                    number={number}/>\n            </div>\n            <form onSubmit={handleSubmit}>\n                <div className='Duo'>\n                    <input className='Input' type=\"tel\" id=\"number\" placeholder=\"Numero de carte\" \n                        onChange={(e) => setNumber(e.target.value)} onFocus={e => setFocus(e.target.id)} \n                        pattern=\"[0-9]+\" title=\"Veuillez entrer les 16 chiffres de votre carte.\" \n                        value={number}  minLength=\"16\" maxLength=\"16\" required/>\n                </div>\n                <div className='Duo'>\n                    <input className='Input' type=\"text\" id=\"name\" placeholder=\"Nom\" \n                        onChange={(e) => setName(e.target.value)} onFocus={e => setFocus(e.target.id)} \n                        pattern=\"^[A-Za-z -]+$\" title=\"please enter letters only\" \n                        value={name} minLength=\"2\" maxLength=\"25\" required/>\n                </div>\n                <div className=\"blockCvcDate\">\n                    <div className='Duo'>\n                        <input className='Input' type=\"tel\" id=\"expiry\" placeholder=\"date d'expiration\" \n                            onChange={(e) => setExpiry(e.target.value)} onFocus={e => setFocus(e.target.id)} \n                            pattern=\"[0-9]+\" title=\"Veuillez entrer la date d'expiration de votre carte.\" \n                            value={expiry} minLength=\"4\" maxLength=\"4\" required/>\n                    </div>\n                    <div className='Duo'>\n                        <input className='Input' type=\"tel\" id=\"cvc\" placeholder=\"CVC\" \n                            onChange={(e) => setCvc(e.target.value)} onFocus={e => setFocus(e.target.id)} \n                            pattern=\"[0-9]+\" title=\"Veuillez entrer les 3 chiffres CVC de votre carte.\" \n                            value={cvc} minLength=\"3\" maxLength=\"3\" required/>\n                    </div>\n                </div>\n                <div style={{width: '200px'}}className='Duo'>\n                    <MyButton />\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default CbUser;"]},"metadata":{},"sourceType":"module"}